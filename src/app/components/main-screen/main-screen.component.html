<button mat-button *ngIf="!showSearchForm" (click)="showSearchForm = true">Search another location</button>

<ng-container *ngIf="showSearchForm; else showWeatherDetails">
  <mat-card class="container">
    <mat-form-field class="search-field">
      <input matInput placeholder="Search City" [matAutocomplete]="auto" [formControl]="cityControl">
      <mat-autocomplete #auto="matAutocomplete">
        <mat-option *ngFor="let city of filteredCities | async" [value]="city.LocalizedName">
          {{ city.LocalizedName }}
        </mat-option>
      </mat-autocomplete>
      <button mat-button (click)="searchWeather()">Search</button>
    </mat-form-field>
  </mat-card>
</ng-container>

<ng-template #showWeatherDetails>

    <app-detail-weather [currentWeather]="currentWeather" [cityControl]="cityControl"></app-detail-weather>

    <mat-card class="five-day-forecast-card center">
        <mat-card-content>
            <h2>Five-Day Forecast</h2>
            <div class="five-day-forecast-container">
                <mat-card *ngFor="let forecast of fiveDayForecast" class="weather-card center">
                    <mat-card-header>
                        <div class="weather-date">{{ forecast.Date | date:'EEEE' }}</div>
                    </mat-card-header>
                    <mat-card-content>
                        <div>Temperature: {{ forecast.Temperature.Minimum.Value }}°C - {{
                            forecast.Temperature.Maximum.Value
                            }}°C</div>
                        <div>Day: {{ forecast.Day.IconPhrase }}</div>
                        <div>Night: {{ forecast.Night.IconPhrase }}</div>
                    </mat-card-content>
                </mat-card>
            </div>
        </mat-card-content>
    </mat-card>
</ng-template>